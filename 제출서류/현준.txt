battleInterface

 전투씬에서 전반적인 플레이어 조작을 담당하는 클래스입니다.

유저가 현재 취하고 있는 액션에 따라 클릭 시 로직이 달라지며

초기상태에서는 현재 마우스가 오버되있는 타일을 마우스 좌표를 기반으로한 인덱스값을 통해 검출합니다.

이상태에서 클릭 시 해당 타일의 정보를 가져와 화면 우측에 출력해줍니다.

해당타일에 유닛이 위치한 정보가 있을 시 해당 유닛의 정보를 함께 가져오며

이때, 대상 유닛이 플레이어의 것이면 벡터번호를 받아서 이를 기반으로 해당유닛의 제어가 가능해집니다.

플레이어유닛의 정보를 받은 상태에서 공격,이동,회복등의 신호를 해당클래스로 보낼 수 있게됩니다.



battlescene

...뭔가 많이 한거같은데 뭘 했더라..



새벽작업내역-

1. 커맨드 메뉴 중 도구를 회복으로 변경 >> 클릭 시 선두가 없으면 메뉴창 사라지지않음

2.선두가 있으면 회복대상을 고를 수 있게 되며 회복가능한 유닛에 마우스 오버되면 초록색으로 표시됨

3.메뉴호출 위치이상해지는거 고침

4.이벤트는 대부분 배틀씬 내부 checkEvent에서 이루어짐. 승리 패배 이벤트만 해당 페이즈에서 체크함

5.이벤트체크를 페이즈전환시에 하므로 즉각적인 스크립트 호출은 다소 문제가있음..예를들어 양쌤죽은 뒤 바로 스크립트가 나오지 않고 해당 턴이 끝난 뒤 나옴.

6.버그발생시 연락바람..없기를..
