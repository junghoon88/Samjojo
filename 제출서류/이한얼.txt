-MapTool
처음에는 기본으로 터레인 0번인 강을 보여주게 되며,
우측 하단에 있는 맵 번호를 입력한 뒤 불러오기를 통해 사용할 맵을 불러올 수 있습니다.
이번 프로젝트에서 에디트박스 클래스를 만들어서 window message 중에 WM_CHAR 가 입력되면 받아도록 하였습니다.
조조전 게임 내 맵은 총 58개이며 0~57의 숫자를 입력받고 그보다 큰 값을 받으면 최대값인 57이 되도록 하였습니다.
반대로 0보다 작은 숫자를 입력하면 0이 되게 하였습니다.
숫자를 입력하고 불러오기를 누르면 해당 맵의 이미지와 맵타일정보를 불러옵니다.
실제 인게임 맵의 이미지는 TAB 키로 토글하여 show/hide 할 수 있도록 하였으며, 우측 하단에 투명도로 설정하도록 하였습니다.
이 기능으로 맵 이미지를 보면서 맵타일에 타일 속성을 주도록 하였습니다.
속성은 enum문을 사용해 부여했으며 T키를 누르면 해당 번호가 출력되도록 했습니다.
실행 취소(Ctrl+Z)와 다시 실행(Ctrl+Y)을 구현하였으며 list를 사용해 마우스를 떼었을 때의 상태를 저장해 넣었습니다.
기본적으로 _lSave라는 list에 저장이 되게 했으며 무한히 저장되는 것을 방지하고자 최대 100개까지의 행동을 저장되게 했습니다.
실행 취소를 했을 시 _lBackUp이라는 list에 실행 취소된 작업들을 저장을 하고 다시 실행을 했을 시에 불러오게 했습니다.
또 실행취소 된 상태에서 새로운 작업을 실행하면 _lBackUp을 clear()시켜 오류를 방지했습니다.
다른 맵을 로드했을 시에도 _lSave와 _lBackUp을 clear()시켜 로드하기 이전으로 되돌아 가지 않게 했습니다.